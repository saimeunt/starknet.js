
  <!DOCTYPE html>
  <html>
    <head>
      <title>connect.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/wallet/connect.ts</td><td class="">100.00%</td><td class="">80%</td><td class="">116</td><td class="">116</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import {
  type WatchAssetParameters,
  type AccountChangeEventHandler,
  type AddDeclareTransactionParameters,
  type AddInvokeTransactionParameters,
  type AddStarknetChainParameters,
  type NetworkChangeEventHandler,
  type ChainId,
  type StarknetWindowObject,
  type TypedData,
} from &#x27;starknet-types-07&#x27;;

/**
 * Request Permission for wallet account, return addresses that are allowed by user
 * @param silentMode false: request user interaction allowance. true: return only pre-allowed
 * @returns allowed accounts addresses
 */
export function requestAccounts(swo: StarknetWindowObject, silent_mode = false) {
  return swo.request({
    type: &#x27;wallet_requestAccounts&#x27;,
    params: {
      silent_mode,
    },
  });
}

/**
 * Request Permission for wallet account
 * @returns allowed accounts addresses
 */
export function getPermissions(swo: StarknetWindowObject) {
  return swo.request({ type: &#x27;wallet_getPermissions&#x27; });
}

/**
 * Request adding ERC20 Token to Wallet List
 * @param asset WatchAssetParameters
 * @returns boolean
 */
export function watchAsset(swo: StarknetWindowObject, asset: WatchAssetParameters) {
  return swo.request({
    type: &#x27;wallet_watchAsset&#x27;,
    params: asset,
  });
}

/**
 * Request adding custom Starknet chain
 * @param chain AddStarknetChainParameters
 * @returns boolean
 */
export function addStarknetChain(swo: StarknetWindowObject, chain: AddStarknetChainParameters) {
  // TODO: This should set custom RPC endpoint ?
  return swo.request({
    type: &#x27;wallet_addStarknetChain&#x27;,
    params: chain,
  });
}

/**
 * Request Wallet Network change
 * @param chainId StarknetChainId
 * @returns boolean
 */
export function switchStarknetChain(swo: StarknetWindowObject, chainId: ChainId) {
  return swo.request({
    type: &#x27;wallet_switchStarknetChain&#x27;,
    params: {
      chainId,
    },
  });
}

/**
 * Request the current chain ID from the wallet.
 * @returns The current Starknet chain ID.
 */
export function requestChainId(swo: StarknetWindowObject) {
  return swo.request({ type: &#x27;wallet_requestChainId&#x27; });
}

/**
 * Get deployment data for a contract.
 * @returns The deployment data result.
 */
export function deploymentData(swo: StarknetWindowObject) {
  return swo.request({ type: &#x27;wallet_deploymentData&#x27; }); // TODO: test
}

/**
 * Add an invoke transaction to the wallet.
 * @param params The parameters required for the invoke transaction.
 * @returns The result of adding the invoke transaction.
 */
export function addInvokeTransaction(
  swo: StarknetWindowObject,
  params: AddInvokeTransactionParameters
) {
  return swo.request({
    type: &#x27;wallet_addInvokeTransaction&#x27;,
    params,
  });
}

/**
 * Add a declare transaction to the wallet.
 * @param params The parameters required for the declare transaction.
 * @returns The result of adding the declare transaction.
 */
export function addDeclareTransaction(
  swo: StarknetWindowObject,
  params: AddDeclareTransactionParameters
) {
  return swo.request({
    type: &#x27;wallet_addDeclareTransaction&#x27;,
    params,
  });
}

/**
 * Sign typed data using the wallet.
 * @param params The typed data to sign.
 * @returns An array of signatures as strings.
 */
export function signMessage(swo: StarknetWindowObject, typedData: TypedData) {
  return swo.request({
    type: &#x27;wallet_signTypedData&#x27;,
    params: typedData,
  });
}

/**
 * Get the list of supported specifications.
 * @returns An array of supported specification strings.
 */
export function supportedSpecs(swo: StarknetWindowObject) {
  return swo.request({ type: &#x27;wallet_supportedSpecs&#x27; });
}

/**
 * Attaches an event handler function to the &quot;accountsChanged&quot; event of a StarknetWindowObject.
 * When the accounts are changed, the specified callback function will be called.
 *
 * @param {StarknetWindowObject} swo - The StarknetWindowObject to attach the event handler to.
 * @param {AccountChangeEventHandler} callback - The function to be called when the accounts are changed.
 *                                              It will receive the changed accounts as a parameter.
 * @returns {void}
 */
export function onAccountChange(
  swo: StarknetWindowObject,
  callback: AccountChangeEventHandler
): void {
  swo.on(&#x27;accountsChanged&#x27;, callback);
}

/**
 * Register a callback function to be called when the network is changed.
 *
 * @param {StarknetWindowObject} swo - The StarknetWindowObject instance.
 * @param {NetworkChangeEventHandler} callback - The callback function to be called when the network is changed.
 * @return {void}
 */
export function onNetworkChanged(
  swo: StarknetWindowObject,
  callback: NetworkChangeEventHandler
): void {
  swo.on(&#x27;networkChanged&#x27;, callback);
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 25 Apr 2024 15:57:37 GMT</p>
    </body>
  </html>
  