
  <!DOCTYPE html>
  <html>
    <head>
      <title>interface.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/account/interface.ts</td><td class="">100.00%</td><td class="">80%</td><td class="">169</td><td class="">169</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { ProviderInterface } from &#x27;../provider&#x27;;
import { SignerInterface } from &#x27;../signer&#x27;;
import {
  Abi,
  AllowArray,
  BigNumberish,
  BlockIdentifier,
  CairoVersion,
  Call,
  DeclareAndDeployContractPayload,
  DeclareContractPayload,
  DeclareContractResponse,
  DeclareDeployUDCResponse,
  DeployAccountContractPayload,
  DeployContractResponse,
  DeployContractUDCResponse,
  EstimateFee,
  EstimateFeeAction,
  EstimateFeeDetails,
  EstimateFeeResponse,
  EstimateFeeResponseBulk,
  Invocations,
  InvocationsDetails,
  InvokeFunctionResponse,
  MultiDeployContractResponse,
  Nonce,
  Signature,
  SimulateTransactionDetails,
  SimulateTransactionResponse,
  TypedData,
  UniversalDeployerContractPayload,
} from &#x27;../types&#x27;;

export abstract class AccountInterface extends ProviderInterface {
  public abstract address: string;

  public abstract signer: SignerInterface;

  public abstract cairoVersion: CairoVersion;

  /**
   * Estimate Fee for executing an INVOKE transaction on starknet
   *
   * @param calls the invocation object containing:
   * - contractAddress - the address of the contract
   * - entrypoint - the entrypoint of the contract
   * - calldata? - (defaults to []) the calldata
   *
   * @param estimateFeeDetails -
   * - blockIdentifier?
   * - nonce? = 0
   * - skipValidate? - default true
   * - tip? - prioritize order of transactions in the mempool.
   * - accountDeploymentData? - deploy an account contract (substitution for deploy account transaction)
   * - paymasterData? - entity other than the transaction sender to pay the transaction fees(EIP-4337)
   * - nonceDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - feeDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - version? - specify ETransactionVersion - V3 Transactions fee is in fri, oldV transactions fee is in wei
   *
   * @returns response from estimate_fee
   */
  public abstract estimateInvokeFee(
    calls: AllowArray&lt;Call&gt;,
    estimateFeeDetails?: EstimateFeeDetails
  ): Promise&lt;EstimateFeeResponse&gt;;

  /**
   * Estimate Fee for executing a DECLARE transaction on starknet
   *
   * @param contractPayload the payload object containing:
   * - contract - the compiled contract to be declared
   * - casm? - compiled cairo assembly. Cairo1(casm or compiledClassHash are required)
   * - classHash? - the class hash of the compiled contract. Precalculate for faster execution.
   * - compiledClassHash?: class hash of the cairo assembly. Cairo1(casm or compiledClassHash are required)
   *
   * @param estimateFeeDetails -
   * - blockIdentifier?
   * - nonce? = 0
   * - skipValidate? - default true
   * - tip? - prioritize order of transactions in the mempool.
   * - accountDeploymentData? - deploy an account contract (substitution for deploy account transaction)
   * - paymasterData? - entity other than the transaction sender to pay the transaction fees(EIP-4337)
   * - nonceDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - feeDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - version? - specify ETransactionVersion - V3 Transactions fee is in fri, oldV transactions fee is in wei
   *
   * @returns response from estimate_fee
   */
  public abstract estimateDeclareFee(
    contractPayload: DeclareContractPayload,
    estimateFeeDetails?: EstimateFeeDetails
  ): Promise&lt;EstimateFeeResponse&gt;;

  /**
   * Estimate Fee for executing a DEPLOY_ACCOUNT transaction on starknet
   *
   * @param contractPayload -
   * - classHash - the class hash of the compiled contract.
   * - constructorCalldata? - constructor data;
   * - contractAddress? - future account contract address. Precalculate for faster execution.
   * - addressSalt? - salt used for calculation of the contractAddress. Required if contractAddress is provided.
   *
   * @param estimateFeeDetails -
   * - blockIdentifier?
   * - nonce? = 0
   * - skipValidate? - default true
   * - tip? - prioritize order of transactions in the mempool.
   * - paymasterData? - entity other than the transaction sender to pay the transaction fees(EIP-4337)
   * - nonceDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - feeDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - version? - specify ETransactionVersion - V3 Transactions fee is in fri, oldV transactions fee is in wei
   *
   * @returns response from estimate_fee
   */
  public abstract estimateAccountDeployFee(
    contractPayload: DeployAccountContractPayload,
    estimateFeeDetails?: EstimateFeeDetails
  ): Promise&lt;EstimateFeeResponse&gt;;

  /**
   * Estimate Fee for executing a UDC DEPLOY transaction on starknet
   * This is different from the normal DEPLOY transaction as it goes through the Universal Deployer Contract (UDC)
   
  * @param deployContractPayload array or singular
   * - classHash: computed class hash of compiled contract
   * - salt: address salt
   * - unique: bool if true ensure unique salt
   * - constructorCalldata: constructor calldata
   * 
   * @param estimateFeeDetails -
   * - blockIdentifier?
   * - nonce?
   * - skipValidate? - default true
   * - tip? - prioritize order of transactions in the mempool.
   * - accountDeploymentData? - deploy an account contract (substitution for deploy account transaction)
   * - paymasterData? - entity other than the transaction sender to pay the transaction fees(EIP-4337)
   * - nonceDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - feeDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - version? - specify ETransactionVersion - V3 Transactions fee is in fri, oldV transactions fee is in wei
   */
  public abstract estimateDeployFee(
    deployContractPayload: UniversalDeployerContractPayload | UniversalDeployerContractPayload[],
    estimateFeeDetails?: EstimateFeeDetails
  ): Promise&lt;EstimateFeeResponse&gt;;

  /**
   * Estimate Fee for executing a list of transactions on starknet
   * Contract must be deployed for fee estimation to be possible
   *
   * @param transactions array of transaction object containing :
   * - type - the type of transaction : &#x27;DECLARE&#x27; | (multi)&#x27;DEPLOY&#x27; | (multi)&#x27;INVOKE_FUNCTION&#x27; | &#x27;DEPLOY_ACCOUNT&#x27;
   * - payload - the payload of the transaction
   *
   *  @param estimateFeeDetails -
   * - blockIdentifier?
   * - nonce?
   * - skipValidate? - default true
   * - tip? - prioritize order of transactions in the mempool.
   * - accountDeploymentData? - deploy an account contract (substitution for deploy account transaction)
   * - paymasterData? - entity other than the transaction sender to pay the transaction fees(EIP-4337)
   * - nonceDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - feeDataAvailabilityMode? - allows users to choose their preferred data availability mode (Volition)
   * - version? - specify ETransactionVersion - V3 Transactions fee is in fri, oldV transactions fee is in wei
   *
   * @returns response from estimate_fee
   */
  public abstract estimateFeeBulk(
    invocations: Invocations,
    details?: EstimateFeeDetails
  ): Promise&lt;EstimateFeeResponseBulk&gt;;

  /**
   * Gets Suggested Max Fee based on the transaction type
   *
   * @param  {EstimateFeeAction} estimateFeeAction
   * @param  {EstimateFeeDetails} details
   * @returns EstimateFee (...response, resourceBounds, suggestedMaxFee)
   */
  public abstract getSuggestedFee(
    estimateFeeAction: EstimateFeeAction,
    details: EstimateFeeDetails
  ): Promise&lt;EstimateFee&gt;;

  /**
   * Simulates an array of transaction and returns an array of transaction trace and estimated fee.
   *
   * @param invocations Invocations containing:
   * - type - transaction type: DECLARE, (multi)DEPLOY, DEPLOY_ACCOUNT, (multi)INVOKE_FUNCTION
   * @param details SimulateTransactionDetails
   *
   * @returns response from simulate_transaction
   */
  public abstract simulateTransaction(
    invocations: Invocations,
    details?: SimulateTransactionDetails
  ): Promise&lt;SimulateTransactionResponse&gt;;

  /**
   * Invoke execute function in account contract
   *
   * @param transactions the invocation object or an array of them, containing:
   * - contractAddress - the address of the contract
   * - entrypoint - the entrypoint of the contract
   * - calldata - (defaults to []) the calldata
   * - signature - (defaults to []) the signature
   * @param {InvocationsDetails} transactionsDetail Additional optional parameters for the transaction
   *
   * @returns response from addTransaction
   */
  public abstract execute(
    transactions: AllowArray&lt;Call&gt;,
    transactionsDetail?: InvocationsDetails
  ): Promise&lt;InvokeFunctionResponse&gt;;
  /**
   * @deprecated
   * @param transactions the invocation object or an array of them, containing:
   * - contractAddress - the address of the contract
   * - entrypoint - the entrypoint of the contract
   * - calldata - (defaults to []) the calldata
   * - signature - (defaults to []) the signature
   * @param abis (optional) the abi of the contract for better displaying
   * @param {InvocationsDetails} transactionsDetail Additional optional parameters for the transaction
   * * @returns response from addTransaction
   */
  public abstract execute(
    transactions: AllowArray&lt;Call&gt;,
    abis?: Abi[],
    transactionsDetail?: InvocationsDetails
  ): Promise&lt;InvokeFunctionResponse&gt;;

  /**
   * Declares a given compiled contract (json) to starknet
   *
   * @param contractPayload transaction payload to be deployed containing:
   * - contract: compiled contract code
   * - (optional) classHash: computed class hash of compiled contract. Pre-compute it for faster execution.
   * - (required for Cairo1 without compiledClassHash) casm: CompiledContract | string;
   * - (optional for Cairo1 with casm) compiledClassHash: compiled class hash from casm. Pre-compute it for faster execution.
   * @param transactionsDetail - InvocationsDetails
   *
   * @returns a confirmation of sending a transaction on the starknet contract
   */
  public abstract declare(
    contractPayload: DeclareContractPayload,
    transactionsDetail?: InvocationsDetails
  ): Promise&lt;DeclareContractResponse&gt;;

  /**
   * Deploys a declared contract to starknet - using Universal Deployer Contract (UDC)
   * support multicall
   *
   * @param payload -
   * - classHash: computed class hash of compiled contract
   * - [constructorCalldata] contract constructor calldata
   * - [salt=pseudorandom] deploy address salt
   * - [unique=true] ensure unique salt
   * @param details - InvocationsDetails
   *
   * @returns
   * - contract_address[]
   * - transaction_hash
   */
  public abstract deploy(
    payload: UniversalDeployerContractPayload | UniversalDeployerContractPayload[],
    details?: InvocationsDetails
  ): Promise&lt;MultiDeployContractResponse&gt;;

  /**
   * Simplify deploy simulating old DeployContract with same response + UDC specific response
   * Internal wait for L2 transaction, support multicall
   *
   * @param payload -
   * - classHash: computed class hash of compiled contract
   * - [constructorCalldata] contract constructor calldata
   * - [salt=pseudorandom] deploy address salt
   * - [unique=true] ensure unique salt
   * @param details - InvocationsDetails
   *
   * @returns
   *  - contract_address
   *  - transaction_hash
   *  - address
   *  - deployer
   *  - unique
   *  - classHash
   *  - calldata_len
   *  - calldata
   *  - salt
   */
  public abstract deployContract(
    payload: UniversalDeployerContractPayload | UniversalDeployerContractPayload[],
    details?: InvocationsDetails
  ): Promise&lt;DeployContractUDCResponse&gt;;

  /**
   * Declares and Deploy a given compiled contract (json) to starknet using UDC
   * Internal wait for L2 transaction, do not support multicall
   * Method will pass even if contract is already declared (internal using DeclareIfNot)
   *
   * @param payload
   * - contract: compiled contract code
   * - [casm=cairo1]: CairoAssembly | undefined;
   * - [compiledClassHash]: string | undefined;
   * - [classHash]: computed class hash of compiled contract
   * - [constructorCalldata] contract constructor calldata
   * - [salt=pseudorandom] deploy address salt
   * - [unique=true] ensure unique salt
   * @param details - InvocationsDetails
   *
   * @returns
   * - declare
   *    - transaction_hash
   * - deploy
   *    - contract_address
   *    - transaction_hash
   *    - address
   *    - deployer
   *    - unique
   *    - classHash
   *    - calldata_len
   *    - calldata
   *    - salt
   */
  public abstract declareAndDeploy(
    payload: DeclareAndDeployContractPayload,
    details?: InvocationsDetails
  ): Promise&lt;DeclareDeployUDCResponse&gt;;

  /**
   * Deploy the account on Starknet
   *
   * @param contractPayload transaction payload to be deployed containing:
   * - classHash: computed class hash of compiled contract
   * - optional constructor calldata
   * - optional address salt
   * - optional contractAddress
   * @param transactionsDetail - InvocationsDetails
   *
   * @returns a confirmation of sending a transaction on the starknet contract
   */
  public abstract deployAccount(
    contractPayload: DeployAccountContractPayload,
    transactionsDetail?: InvocationsDetails
  ): Promise&lt;DeployContractResponse&gt;;

  /**
   * Signs a JSON object for off-chain usage with the Starknet private key and returns the signature
   * This adds a message prefix so it can&#x27;t be interchanged with transactions
   *
   * @param json - JSON object to be signed
   * @returns the signature of the JSON object
   * @throws {Error} if the JSON object is not a valid JSON
   */
  public abstract signMessage(typedData: TypedData): Promise&lt;Signature&gt;;

  /**
   * Hash a JSON object with Pedersen hash and return the hash
   * This adds a message prefix so it can&#x27;t be interchanged with transactions
   *
   * @param json - JSON object to be hashed
   * @returns the hash of the JSON object
   * @throws {Error} if the JSON object is not a valid JSON
   */
  public abstract hashMessage(typedData: TypedData): Promise&lt;string&gt;;

  /**
   * Verify a signature of a JSON object
   *
   * @param typedData - JSON object to be verified
   * @param signature - signature of the JSON object
   * @returns true if the signature is valid, false otherwise
   * @throws {Error} if the JSON object is not a valid JSON or the signature is not a valid signature
   */
  public abstract verifyMessage(typedData: TypedData, signature: Signature): Promise&lt;boolean&gt;;

  /**
   * Verify a signature of a given hash
   * @warning This method is not recommended, use verifyMessage instead
   *
   * @param hash - hash to be verified
   * @param signature - signature of the hash
   * @returns true if the signature is valid, false otherwise
   * @throws {Error} if the signature is not a valid signature
   */
  public abstract verifyMessageHash(hash: BigNumberish, signature: Signature): Promise&lt;boolean&gt;;

  /**
   * Gets the nonce of the account with respect to a specific block
   *
   * @param  {BlockIdentifier} blockIdentifier - optional blockIdentifier. Defaults to &#x27;pending&#x27;
   * @returns nonce of the account
   */
  public abstract getNonce(blockIdentifier?: BlockIdentifier): Promise&lt;Nonce&gt;;
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 25 Apr 2024 15:57:37 GMT</p>
    </body>
  </html>
  